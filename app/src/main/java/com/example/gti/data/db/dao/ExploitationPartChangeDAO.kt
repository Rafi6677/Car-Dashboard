package com.example.gti.data.db.dao

import androidx.room.*
import com.example.gti.data.db.model.ExploitationPartChange

@Dao
interface ExploitationPartChangeDAO {

    @Insert
    suspend fun insertFiltersChangeData(exploitationPartChange: ExploitationPartChange): Long

    @Update
    suspend fun updateFiltersChangeData(exploitationPartChange: ExploitationPartChange): Int

    @Delete
    suspend fun deleteFiltersChangeData(exploitationPartChange: ExploitationPartChange): Int

    @Query("DELETE FROM exploitation_part_change")
    suspend fun deleteAllFiltersChangeData(): Int

    @Query("SELECT * FROM exploitation_part_change")
    suspend fun getAllFiltersChangeData(): List<ExploitationPartChange>

    @Query("SELECT * FROM exploitation_part_change WHERE last_oil_change_timestamp = (SELECT MAX(last_oil_change_timestamp) FROM exploitation_part_change)")
    suspend fun getLatestOilChangeData(): ExploitationPartChange

    @Query("SELECT * FROM exploitation_part_change WHERE last_oil_filter_change_timestamp = (SELECT MAX(last_oil_filter_change_timestamp) FROM exploitation_part_change)")
    suspend fun getLatestOilFilterChangeData(): ExploitationPartChange

    @Query("SELECT * FROM exploitation_part_change WHERE last_air_filter_change_timestamp = (SELECT MAX(last_air_filter_change_timestamp) FROM exploitation_part_change)")
    suspend fun getLatestAirFilterChangeData(): ExploitationPartChange

    @Query("SELECT * FROM exploitation_part_change WHERE last_cabin_filter_change_timestamp = (SELECT MAX(last_cabin_filter_change_timestamp) FROM exploitation_part_change)")
    suspend fun getLatestCabinFilterChangeData(): ExploitationPartChange

}